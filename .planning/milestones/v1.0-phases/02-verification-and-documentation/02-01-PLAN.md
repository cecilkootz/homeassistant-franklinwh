---
phase: 02-verification-and-documentation
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - README.md
  - translations/
autonomous: true
requirements:
  - VERIF-01
  - VERIF-02
  - VERIF-03

must_haves:
  truths:
    - "GitHub Actions hacs/action workflow passes on main branch"
    - "GitHub Actions hassfest workflow passes on main branch"
    - "README installation section contains no mention of content_in_root, custom path, or zip_release"
    - "Root translations/ directory is removed (leftover from git mv)"
  artifacts:
    - path: "README.md"
      provides: "Standard HACS installation instructions"
      contains: "Via HACS (Recommended)"
    - path: ".github/workflows/validate.yaml"
      provides: "HACS validation CI"
    - path: ".github/workflows/hassfest.yaml"
      provides: "hassfest CI"
  key_links:
    - from: "custom_components/franklin_wh/"
      to: "hacs/action workflow"
      via: "standard HACS discovery — no content_in_root flag"
      pattern: "custom_components/franklin_wh/__init__.py"
    - from: "custom_components/franklin_wh/manifest.json"
      to: "hassfest workflow"
      via: "manifest validation"
      pattern: "manifest.json"
---

<objective>
Confirm CI passes on the migrated repository structure, clean up the leftover empty translations/ directory at the root, and formally verify the README reflects standard HACS installation.

Purpose: Close out the migration by proving correctness at the CI level and tidying the repository to a clean state.
Output: Passing CI runs for both hacs/action and hassfest, deleted root translations/ directory, README confirmed correct.
</objective>

<execution_context>
@/Users/matt/.claude/get-shit-done/workflows/execute-plan.md
@/Users/matt/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Remove leftover root translations/ directory and verify README</name>
  <files>translations/</files>
  <action>
The root translations/ directory is an empty leftover from the git mv of translations/en.json to custom_components/franklin_wh/translations/en.json. Remove it:

```
git rm -r translations/
git commit -m "chore: remove empty root translations/ directory leftover from git mv"
```

Then audit README.md installation section. Confirm the "Via HACS (Recommended)" section contains:
- No mention of "content_in_root"
- No mention of "custom path" or non-standard directory instructions
- No mention of "zip_release"
- The standard steps: go to HACS, add custom repository URL, choose Integration, download FranklinWH

The current README already describes standard HACS installation. If it is correct as-is, no changes are needed. If any content_in_root or custom-path language is found, remove it.

After reviewing, if no README changes are needed, confirm this explicitly in the summary. If changes are made, commit them.
  </action>
  <verify>
    <automated>git ls-files translations/ | wc -l | xargs test 0 -eq && echo "translations/ removed" || echo "FAIL: translations/ still tracked"</automated>
  </verify>
  <done>Root translations/ directory is gone from git tracking. README installation section contains no content_in_root or custom-path language.</done>
</task>

<task type="auto">
  <name>Task 2: Verify CI workflows pass on main branch</name>
  <files></files>
  <action>
Check the status of the two GitHub Actions workflows on the main branch:

```
gh run list --branch main --workflow validate.yaml --limit 5
gh run list --branch main --workflow hassfest.yaml --limit 5
```

For each workflow:
- If the most recent run is "completed / success" — requirement is satisfied. Record the run ID and status.
- If the most recent run is "in_progress" — wait for it to complete using `gh run watch {run_id}`, then verify outcome.
- If the most recent run is "completed / failure" — inspect the logs: `gh run view {run_id} --log-failed`. Diagnose the failure and report it in the summary. Do NOT attempt to fix CI failures silently — surface them clearly so the user can decide next steps.
- If no runs exist on main — trigger both workflows manually:
  ```
  gh workflow run validate.yaml --ref main
  gh workflow run hassfest.yaml --ref main
  ```
  Then wait for completion using `gh run watch`.

VERIF-01 is satisfied when validate.yaml (hacs/action) shows "success" on main.
VERIF-02 is satisfied when hassfest.yaml shows "success" on main.
  </action>
  <verify>
    <automated>gh run list --branch main --workflow validate.yaml --limit 1 --json conclusion -q '.[0].conclusion' | grep -q "success" && gh run list --branch main --workflow hassfest.yaml --limit 1 --json conclusion -q '.[0].conclusion' | grep -q "success" && echo "Both CI checks pass" || echo "FAIL: one or more CI checks did not pass — see task output"</automated>
  </verify>
  <done>Both validate.yaml (hacs/action) and hassfest.yaml show conclusion "success" on the main branch. VERIF-01 and VERIF-02 are closed.</done>
</task>

</tasks>

<verification>
Run after both tasks complete:

1. Confirm translations/ is gone: `git ls-files translations/` returns empty.
2. Confirm README has no forbidden text: `grep -i "content_in_root\|zip_release" README.md` returns no matches.
3. Confirm both CI workflows pass: `gh run list --branch main --workflow validate.yaml --limit 1 --json conclusion -q '.[0].conclusion'` returns "success", same for hassfest.yaml.
</verification>

<success_criteria>
- Root translations/ directory removed from git tracking and committed
- README contains no content_in_root or zip_release language
- gh run list shows "success" for validate.yaml on main (VERIF-01)
- gh run list shows "success" for hassfest.yaml on main (VERIF-02)
- VERIF-03 confirmed: README installation section is standard HACS instructions
</success_criteria>

<output>
After completion, create `.planning/phases/02-verification-and-documentation/02-01-SUMMARY.md` using the summary template.
</output>
